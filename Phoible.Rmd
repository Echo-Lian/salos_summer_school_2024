---
title: "Salos 2024 summer school: Working with PHOIBLE"
author: "Steven Moran and Alena Witzlack"
date: "(`r format(Sys.time(), '%d %B, %Y')`)"
output:
  github_document:
      toc: true
---

***

These are the R libraries you will need.

```{r, message=FALSE}
library(tidyverse)
library(knitr)
```

Recall, if you have not installed these libraries before, then you need to run the `install.packages()` command **once** before you load them above, i.e., `install.packages('tidyverse')` in the Console below. Or you can use the menu above: Click on Tools > Install Packages.


# Introduction

The [PHOIBLE database](https://phoible.org) is an online repository of phonological inventory data. Let's have a look at the website, where we can explore by various categories:

* [Inventories](https://phoible.org/inventories)
* [Languages](https://phoible.org/languages)
* [Segments](https://phoible.org/parameters)

***

But what if we want to explore and work with the data programmatically? What's the first thing we need to do?

***

We need to access the data. So, where is it?

One option is to download the data from the website:

* https://phoible.org/download

Data comes in different data formats (and different data types).

In linguistics, data are usually curated and we have data sets in different stages of development. For example, the PHOIBLE data are curated and maintained in a working format in a [GitHub](https://github.com) repository here:

* https://github.com/phoible/dev

This repository contains the raw data and code (scripts) to transform different data formats into a single spreadsheet:

* https://github.com/phoible/dev/blob/master/data/phoible.csv

This is a rather large spreadsheet, so we have made a smaller aggregated one here:

* https://github.com/bambooforest/salos/blob/main/data/phoible.csv

When a data table (aka spreadsheet) is smaller, GitHub will display it online for you:

* https://github.com/bambooforest/salos/blob/main/data/phoible.csv

***

How do we load the data into R/RStudio? You can simply use the variable name that you loaded the data into. `df` is a commonly used abbreviation for "data frame", i.e., the data structure used with in R for example for tabular data (more below).

```{r}
df <- read_csv('data/phoible.csv')
```

How do we have a quick look at it? We saved the tabular data into an [R dataframe](https://stat.ethz.ch/R-manual/R-devel/library/base/html/data.frame.html) or in the [Tidyverse](https://www.tidyverse.org) (i.e., R packages for data science) a [tibble](https://tibble.tidyverse.org) -- a modernized version of the R dataframe. We have saved it with the variable name `df` -- so we can simply call `df` to have a look at the data.

In RStudio we can browse the data table below -- or we can also click on the `df` data "object" in the top right hand panel. This works well when we are working with smaller datasets (say up to a few thousand rows).

```{r}
df
```

How do we programmatically look at its structure, i.e., how do we know what it has in its columns and rows? We can use the `str()` command. We can also click on the blue arrow in the data object in the top right panel in RStudio.

```{r}
str(df)
```

